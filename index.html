<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sonsuz AÅŸk SerÃ¼veni â¤ï¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --p: #ff4d6d; --s: #590d22; --gold: #ffb703; --white: #fff0f3; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: #000; color: white; overflow: hidden; }

        /* Arka Plan Efekti */
        #starfield { position: fixed; width: 100%; height: 100%; z-index: 0; }

        .app-container { position: relative; z-index: 10; height: 100vh; width: 100vw; display: flex; flex-direction: column; }

        /* Ãœst Bar */
        .status-bar { padding: 15px; display: flex; justify-content: space-between; background: rgba(0,0,0,0.3); backdrop-filter: blur(5px); border-bottom: 1px solid rgba(255,77,109,0.3); }
        .heart-count { color: var(--p); font-weight: bold; }

        /* BÃ¶lÃ¼m AlanlarÄ± */
        .stage { display: none; flex: 1; flex-direction: column; align-items: center; justify-content: center; padding: 20px; text-align: center; animation: fadeIn 0.6s ease; }
        .stage.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .glass-card { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px); border-radius: 30px; border: 1px solid rgba(255,255,255,0.2); padding: 25px; width: 100%; max-width: 360px; box-shadow: 0 15px 35px rgba(0,0,0,0.5); }
        
        button { background: linear-gradient(45deg, var(--p), #ff8fa3); color: white; border: none; padding: 15px 25px; border-radius: 50px; font-weight: 600; cursor: pointer; transition: 0.3s; margin: 10px 0; width: 100%; box-shadow: 0 5px 15px rgba(255,77,109,0.4); }
        button:disabled { background: #444; box-shadow: none; opacity: 0.5; }

        /* Labirent Oyunu */
        #maze-container { width: 280px; height: 280px; background: #222; border: 4px solid var(--p); position: relative; margin: 20px 0; overflow: hidden; border-radius: 15px; }
        .player { width: 20px; height: 20px; background: var(--gold); border-radius: 50%; position: absolute; z-index: 5; transition: 0.1s; box-shadow: 0 0 10px var(--gold); }
        .target { width: 30px; height: 30px; background: var(--p); position: absolute; right: 10px; bottom: 10px; border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: pulse 1s infinite; }
        .wall { background: #444; position: absolute; border-radius: 2px; }

        /* Kelime Ã‡arkÄ± */
        .wheel-container { position: relative; width: 200px; height: 200px; border-radius: 50%; border: 5px solid var(--p); margin: 20px auto; display: flex; align-items: center; justify-content: center; }
        .wheel { width: 100%; height: 100%; border-radius: 50%; border: 10px dashed var(--gold); animation: spin 2s linear infinite; }
        @keyframes spin { from {transform: rotate(0deg);} to {transform: rotate(360deg);} }

        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.2);} 100% {transform: scale(1);} }

        h1 { font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: var(--p); margin: 10px 0; }
        .instruction { font-size: 0.9rem; color: #ccc; margin-bottom: 20px; }
    </style>
</head>
<body>

<canvas id="starfield"></canvas>

<div class="app-container">
    <div class="status-bar">
        <span>Level: <span id="lvl-txt">1/5</span></span>
        <span class="heart-count">AÅŸk PuanÄ±: <span id="score">0</span> â¤ï¸</span>
    </div>

    <div class="stage active" id="st1">
        <div class="glass-card">
            <h1>HoÅŸ Geldin Ã–mrÃ¼m</h1>
            <p>BugÃ¼n senin iÃ§in Ã¶zel bir dijital dÃ¼nya kurdum. TÃ¼m engelleri aÅŸÄ±p sonundaki sÃ¼rprize ulaÅŸabilir misin?</p>
            <button onclick="nextStage(2)">SerÃ¼vene BaÅŸla âœ¨</button>
        </div>
    </div>

    <div class="stage" id="st2">
        <div class="glass-card">
            <h3>BÃ¶lÃ¼m 1: Kalp AtÄ±ÅŸÄ± ğŸ’“</h3>
            <p class="instruction">Ã‡ark en hÄ±zlÄ± dÃ¶nerken doÄŸru anda durdurup kalbi yakala!</p>
            <div class="wheel-container">
                <div class="wheel" id="wheel"></div>
                <div style="position:absolute; font-size: 40px;">â¤ï¸</div>
            </div>
            <button id="stop-btn" onclick="stopWheel()">DURDUR!</button>
        </div>
    </div>

    <div class="stage" id="st3">
        <div class="glass-card">
            <h3>BÃ¶lÃ¼m 2: Kalbime Giden Yol ğŸ“</h3>
            <p class="instruction">Duvarlara Ã§arpmadan sarÄ± noktayÄ± kalbe ulaÅŸtÄ±r!</p>
            <div id="maze-container">
                <div class="player" id="player" style="left:10px; top:10px;"></div>
                <div class="target">â¤ï¸</div>
                <div class="wall" style="width:200px; height:10px; left:0; top:50px;"></div>
                <div class="wall" style="width:100px; height:10px; right:0; top:120px;"></div>
                <div class="wall" style="width:10px; height:150px; left:100px; top:100px;"></div>
                <div class="wall" style="width:150px; height:10px; left:50px; bottom:60px;"></div>
            </div>
            <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:5px; width:150px;">
                <div></div><button onclick="move('up')">â¬†ï¸</button><div></div>
                <button onclick="move('left')">â¬…ï¸</button><button onclick="move('down')">â¬‡ï¸</button><button onclick="move('right')">â¡ï¸</button>
            </div>
        </div>
    </div>

    <div class="stage" id="st4">
        <div class="glass-card">
            <h3>BÃ¶lÃ¼m 3: Bizim Hikayemiz ğŸ“–</h3>
            <p>AÅŸaÄŸÄ±daki sorunun cevabÄ±nÄ± doÄŸru bilirsen kapÄ± aÃ§Ä±lacak.</p>
            <p style="background:rgba(255,77,109,0.2); padding:10px; border-radius:10px;">
                "Seninle en Ã§ok gÃ¼lmekten yorulduÄŸumuz o gÃ¼n neredeydik?"
            </p>
            <input type="text" id="ans" placeholder="CevabÄ± buraya yaz..." style="width:100%; padding:15px; border-radius:25px; border:none; margin-bottom:10px; text-align:center;">
            <button onclick="checkAnsi()">Kilidi AÃ§ ğŸ”“</button>
        </div>
    </div>

    <div class="stage" id="st5">
        <div class="glass-card" style="border: 2px solid var(--p);">
            <h1>Seni Ã‡ok Seviyorum â¤ï¸</h1>
            <p id="final-text" style="font-size: 0.95rem; line-height: 1.6;"></p>
            <div style="font-size: 40px; margin: 15px 0;">ğŸŒ¹ğŸ’ğŸ¥‚</div>
            <p>Ä°yi ki benimlesin, iyi ki seninleyim. Nice 14 Åubatlara...</p>
            <button onclick="createExplosion()">Kalbimi GÃ¶nder ğŸ’–</button>
        </div>
    </div>
</div>

<script>
    // Arka Plan YÄ±ldÄ±zlarÄ±
    const canvas = document.getElementById('starfield');
    const ctx = canvas.getContext('2d');
    let stars = [];

    function initStars() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        for(let i=0; i<100; i++) {
            stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, size: Math.random()*2, spd: Math.random()*0.5});
        }
    }
    function drawStars() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "white";
        stars.forEach(s => {
            ctx.beginPath();
            ctx.arc(s.x, s.y, s.size, 0, Math.PI*2);
            ctx.fill();
            s.y += s.spd;
            if(s.y > canvas.height) s.y = 0;
        });
        requestAnimationFrame(drawStars);
    }
    initStars(); drawStars();

    // Sahne YÃ¶netimi
    let currentScore = 0;
    function nextStage(n) {
        document.querySelectorAll('.stage').forEach(s => s.classList.remove('active'));
        document.getElementById('st'+n).classList.add('active');
        document.getElementById('lvl-txt').innerText = n + "/5";
        if(n === 5) startType();
    }

    // Ã‡ark Oyunu
    function stopWheel() {
        const w = document.getElementById('wheel');
        w.style.animationPlayState = 'paused';
        currentScore += 50;
        document.getElementById('score').innerText = currentScore;
        setTimeout(() => nextStage(3), 1000);
    }

    // Labirent Kontrol
    let px = 10, py = 10;
    function move(dir) {
        const p = document.getElementById('player');
        if(dir === 'up' && py > 0) py -= 15;
        if(dir === 'down' && py < 250) py += 15;
        if(dir === 'left' && px > 0) px -= 15;
        if(dir === 'right' && px < 250) px += 15;
        
        p.style.left = px + 'px';
        p.style.top = py + 'px';

        if(px > 230 && py > 230) {
            currentScore += 100;
            document.getElementById('score').innerText = currentScore;
            alert("Labirenti geÃ§tin! Kalbime ulaÅŸtÄ±n. â¤ï¸");
            nextStage(4);
        }
    }

    // Soru Kontrol (CevabÄ± "ev" veya istediÄŸin bir ÅŸey yapabilirsin)
    function checkAnsi() {
        const val = document.getElementById('ans').value.toLowerCase();
        if(val.length > 2) { // Herhangi bir uzun cevap kabul edilsin diye basitleÅŸtirdim
            currentScore += 500;
            document.getElementById('score').innerText = currentScore;
            nextStage(5);
        } else {
            alert("Biraz daha detaylÄ± hatÄ±rla sevgilim... â¤ï¸");
        }
    }

    // Final YazÄ±sÄ±
    function startType() {
        const text = "BÃ¼tÃ¼n bu yollarÄ±, labirentleri ve sorularÄ± geÃ§tin... TÄ±pkÄ± gerÃ§ek hayatta olduÄŸu gibi, her engeli beraber aÅŸacaÄŸÄ±mÄ±zÄ± biliyorum. Sen benim hayatÄ±mÄ±n en gÃ¼zel detayÄ±, en huzurlu limanÄ±sÄ±n. Bu oyun biter ama benim sana olan aÅŸkÄ±m asla bitmez.";
        let i = 0;
        const target = document.getElementById('final-text');
        const timer = setInterval(() => {
            target.innerHTML += text[i];
            i++;
            if(i >= text.length) clearInterval(timer);
        }, 50);
    }

    function createExplosion() {
        for(let i=0; i<30; i++) {
            const h = document.createElement('div');
            h.innerHTML = "â¤ï¸";
            h.style.position = "fixed";
            h.style.left = "50%";
            h.style.top = "50%";
            h.style.fontSize = Math.random()*30+10+"px";
            h.style.transition = "2s all";
            document.body.appendChild(h);
            setTimeout(() => {
                h.style.left = Math.random()*100+"vw";
                h.style.top = Math.random()*100+"vh";
                h.style.opacity = "0";
            }, 50);
        }
        alert("MesajÄ±n ve kalbin bana ulaÅŸtÄ±! Seni seviyorum! â¤ï¸");
    }
</script>

</body>
</html>
