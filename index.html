<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AÅŸk Labirenti â¤ï¸</title>
    <style>
        :root { --pink: #ff4d6d; --dark: #590d22; --gold: #ffb703; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: #000; color: #fff; overflow: hidden; }

        .stage { display: none; height: 100vh; width: 100vw; flex-direction: column; align-items: center; justify-content: center; padding: 25px; text-align: center; background: radial-gradient(circle, #2b0d0d 0%, #000 100%); position: absolute; }
        .active { display: flex; animation: fadeIn 0.8s forwards; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .card { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px); padding: 30px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.2); width: 100%; max-width: 380px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        button { background: var(--pink); color: white; border: none; padding: 16px; border-radius: 15px; font-weight: bold; width: 100%; margin: 12px 0; font-size: 1rem; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(255, 77, 109, 0.3); }
        button:active { transform: scale(0.95); }

        input { width: 100%; padding: 14px; border-radius: 12px; border: 2px solid var(--pink); background: rgba(0,0,0,0.5); color: white; margin-bottom: 10px; text-align: center; font-size: 1.2rem; }

        /* Fener BÃ¶lÃ¼mÃ¼ */
        #flashlight { position: absolute; width: 180px; height: 180px; background: radial-gradient(circle, rgba(255,255,255,0.25) 0%, transparent 70%); pointer-events: none; border-radius: 50%; display: none; z-index: 5; }

        /* Envanter */
        .inventory { position: fixed; top: 15px; width: 100%; display: flex; justify-content: center; gap: 10px; z-index: 100; }
        .item { background: rgba(255,255,255,0.1); padding: 6px 15px; border-radius: 20px; font-size: 13px; opacity: 0.2; transition: 0.5s; border: 1px solid white; }
        .obtained { opacity: 1; background: var(--pink); transform: scale(1.1); }

        /* Kablo Kesme */
        .wire { height: 10px; width: 100%; margin: 15px 0; border-radius: 5px; cursor: pointer; transition: 0.3s; }
        .wire:hover { transform: scale(1.05); }

        /* Ekran Sallanma Efekti */
        .shake { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% {transform: translate(0);} 25% {transform: translate(-10px);} 75% {transform: translate(10px);} }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<div class="inventory">
    <div id="item1" class="item">ğŸ”‘ Anahtar</div>
    <div id="item2" class="item">ğŸ“œ Åifre</div>
    <div id="item3" class="item">ğŸ’– AÅŸk</div>
</div>

<div class="stage active" id="st1">
    <div class="card">
        <h1 style="color: var(--pink);">GÄ°RÄ°Å PANELÄ° ğŸ”</h1>
        <p>Kalbim kilitlendi! Onu aÃ§abilecek tek kiÅŸi sen misin?</p>
        <button onclick="next(2)">Sisteme BaÄŸlan âš¡</button>
    </div>
</div>

<div class="stage" id="st2">
    <div class="card">
        <h2>GÃ¼venlik Sorusu ğŸ§ </h2>
        <p>Sence bizim "mucize yÄ±lÄ±mÄ±z" hangisiydi? <br><small>(YÄ±lÄ± 4 haneli olarak gir)</small></p>
        <input type="number" id="passInput" placeholder="YÄ±lÄ± yaz...">
        <button onclick="checkPass()">DoÄŸrula</button>
        <p id="hint" style="color: var(--pink); font-size: 14px;"></p>
    </div>
</div>

<div class="stage" id="st3" onmousemove="handleMove(event)" ontouchmove="handleMove(event.touches[0])">
    <div id="flashlight"></div>
    <h2 style="z-index: 10; position: relative;">KaranlÄ±kta Ara ğŸ”¦</h2>
    <p style="z-index: 10; position: relative;">Anahtar buralarda bir yerde, fenerle Ã¼zerine gelince parlayacak!</p>
    
    <div id="hiddenKey" onclick="foundKey()" style="
        position: absolute; left: 65%; top: 55%; font-size: 50px; cursor: pointer; 
        transition: 0.3s; filter: brightness(0); z-index: 4;
    ">ğŸ”‘</div>
</div>

<div class="stage" id="st4">
    <div class="card">
        <h2>Kritik Karar! ğŸ’£</h2>
        <p>AÅŸk bombasÄ±nÄ± durdurmak iÃ§in doÄŸru kabloyu kesmelisin!</p>
        <div class="wire" style="background: blue;" onclick="wrongWire()"></div>
        <div class="wire" style="background: red;" onclick="correctWire()"></div>
        <div class="wire" style="background: green;" onclick="wrongWire()"></div>
        <p><small>Ä°pucu: KÄ±rmÄ±zÄ± olan aÅŸkÄ± temsil eder...</small></p>
    </div>
</div>

<div class="stage" id="st5">
    <div class="card" style="border: 2px solid var(--pink);">
        <h1 style="color: var(--pink);">BAÅARDIN! ğŸ‰</h1>
        <p id="typingText"></p>
        <div id="finalPart" style="display:none;">
            <div style="font-size: 50px; margin: 20px 0;">ğŸ’ğŸŒ¹ğŸ‘©â€â¤ï¸â€ğŸ‘¨</div>
            <p><strong>Sevgililer gÃ¼nÃ¼mÃ¼z kutlu olsun bir tanem!</strong></p>
            <button onclick="celebrate()">Sana Bir MesajÄ±m Var â¤ï¸</button>
        </div>
    </div>
</div>

<script>
    function next(id) {
        document.querySelectorAll('.stage').forEach(s => s.classList.remove('active'));
        document.getElementById('st' + id).classList.add('active');
        if(id === 3) document.getElementById('flashlight').style.display = 'block';
        if(id === 5) startTyping();
    }

    // Åifreyi buraya yaz (Ã¶rneÄŸin tanÄ±ÅŸtÄ±ÄŸÄ±nÄ±z yÄ±l)
    function checkPass() {
        const val = document.getElementById('passInput').value;
        if(val == "2024") { 
            document.getElementById('item2').classList.add('obtained');
            next(3);
        } else {
            document.getElementById('hint').innerText = "HatalÄ± yÄ±l! Kalbimiz o zaman atmaya baÅŸlamamÄ±ÅŸtÄ±...";
        }
    }

    // GeliÅŸmiÅŸ Fener ve Anahtar Parlama MekaniÄŸi
    function handleMove(e) {
        const f = document.getElementById('flashlight');
        const k = document.getElementById('hiddenKey');
        const rect = k.getBoundingClientRect();
        
        f.style.left = (e.clientX - 90) + 'px';
        f.style.top = (e.clientY - 90) + 'px';

        const dist = Math.hypot(e.clientX - (rect.left + 25), e.clientY - (rect.top + 25));
        
        if(dist < 80) {
            k.style.filter = "brightness(1) drop-shadow(0 0 15px gold)";
            k.style.transform = "scale(1.3)";
        } else {
            k.style.filter = "brightness(0)";
            k.style.transform = "scale(1)";
        }
    }

    function foundKey() {
        document.getElementById('item1').classList.add('obtained');
        alert("HarikasÄ±n! AnahtarÄ± buldun. KapÄ± aÃ§Ä±lÄ±yor... ğŸ”“");
        next(4);
    }

    function wrongWire() {
        document.body.classList.add('shake');
        setTimeout(() => document.body.classList.remove('shake'), 500);
        alert("Bzzzt! YanlÄ±ÅŸ kablo. Dikkat et sevgilim!");
    }

    function correctWire() {
        document.getElementById('item3').classList.add('obtained');
        next(5);
    }

    function startTyping() {
        const text = "TÃ¼m engelleri aÅŸtÄ±n... Åifreleri Ã§Ã¶zdÃ¼n, karanlÄ±kta yolunu buldun ve en Ã¶nemlisi asla vazgeÃ§medin. TÄ±pkÄ± bizim aÅŸkÄ±mÄ±z gibi. Seni her ÅŸeyden Ã§ok seviyorum.";
        let i = 0;
        function type() {
            if (i < text.length) {
                document.getElementById('typingText').innerHTML += text.charAt(i);
                i++;
                setTimeout(type, 40);
            } else {
                document.getElementById('finalPart').style.display = 'block';
            }
        }
        type();
    }

    function celebrate() {
        alert("Åimdi bana bir mesaj at ve Ã¶dÃ¼lÃ¼nÃ¼ (gerÃ§ek bir sarÄ±lma) iste! â¤ï¸ğŸŒ¹");
    }
</script>

</body>
</html>
